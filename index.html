<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="https://getbootstrap.com/docs/4.1/examples/sticky-footer/sticky-footer.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    
    <style>
    body {
    font-family: 'Montserrat';font-size: 22px;
    }
</style>
<!-- 1101001 01100110 00100000 01111001 01101111 01110101 00100111 01110010 01100101 00100000 01110010 01100101 01100001 01100100 01101001 01101110 01100111 00100000 01110100 01101000 01101001 01110011 00100000 01111001 01101111 01110101 00100111 01110010 01100101 00100000 01100011 01101111 01101111 01101100 00100000 00111010 00101001 -->
    <script type="text/javascript">
      (function () {
        var css = document.createElement("link");
        css.href = "https://use.fontawesome.com/releases/v5.1.0/css/all.css";
        css.rel = "stylesheet";
        css.type = "text/css";
        document.getElementsByTagName("head")[0].appendChild(css);
      })();
    </script>
    <title>Text to Binary Converter</title>
  </head>
  <body>
 
    <script src="script.js"></script>
    <script src="./FileSaver.js"></script>

    <h1 style="margin-top: 2rem" class="text-center">
      Convert your text to binary numbers!
    </h1>
    <div style="position: relative">
      <div
        style="
          margin: 0;
          position: absolute;
          top: 50%;
          left: 50%;
          -ms-transform: translate(-50%, 0%);
          transform: translate(-50%, 0%);
          margin-top: 2rem;
          max-width: 700px;
          word-wrap: break-word;
        "
      >
        <div class="card" style="margin: 1rem 1rem">
          <span class="card-header">Enter your text here:</span>
          <textarea
            id="textarea"
            class="form-control"
            placeholder="Example: Hello there!"
          ></textarea>
        </div>
        <button
          type="button"
          class="btn btn-primary"
          style="float: right; margin-right: 1rem"
          onclick="convertToText()"
        >
          Convert
        </button>
        <input id="fileInput" type="file" style="display:none;" />
        <input 
        type="button" 
        value="Open File" 
        class = "btn btn-secondary"
        style="margin-left: 1rem;" 
        onclick="document.getElementById('fileInput').click();" />
        <br><br><br>
          <div class="card" style="margin: 1rem 1rem">
          <textarea
            id="textareayuh"
            class="form-control"
            placeholder= "Binary output here"
            readonly
          ></textarea>
        </div>
        <button
        id="copy-btn"
        type="button"
        class="btn btn-secondary"
        style="margin-left: 1rem"
        onclick="copyBinary()"
        disabled
      >
      Copy Binary
      </button>
      <button
          id = "notacopybtnbutimoitsjustasgoodrightsfornoncopybuttons"
          type="button"
          class="btn btn-secondary"
          onclick="saveTheTxtlol()"
          disabled
        >
          Save File
        </button>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <span class="text-muted">Made by <a href = "https://github.com/fryingpandev/">Frying Pan</a></span>
      </div>
    </footer>
<script>
function text2Binary(string) {
    return string.split('').map(function (char) {
        return char.charCodeAt(0).toString(2);
    }).join(' ');
}
        document.getElementById('fileInput')
            .addEventListener('change', function() {
              
            var fr=new FileReader();
            fr.onload=function(){
              let actualresult = text2Binary(fr.result)
                document.getElementById('textarea')
                        .textContent=actualresult;
            }
              
            fr.readAsText(this.files[0]);
        })
function saveTheTxtlol() {

var userInput = document.getElementById("textareayuh").innerHTML;

var blob = new Blob([userInput], { type: "text/plain;charset=utf-8" });
saveAs(blob, "texttobinary.txt");
}
</script>
  </body>
</html>
